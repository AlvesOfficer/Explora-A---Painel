local function setupBypass()
    pcall(function()
        local mt = getrawmetatable(game)
        setreadonly(mt, false)
        
        local oldNamecall = mt.__namecall
        local oldIndex = mt.__index
        
        mt.__namecall = newcclosure(function(self, ...)
            local method = getnamecallmethod()
            local args = {...}
            
            -- ProteÃ§Ã£o contra Kick
            if (method == "Kick" or method == "kick") and self == game:GetService("Players").LocalPlayer then
                return
            end
            
            -- ProteÃ§Ã£o contra reports e detecÃ§Ã£o
            if method == "FireServer" or method == "InvokeServer" then
                for _, arg in pairs(args) do
                    if type(arg) == "string" then
                        local lower = string.lower(arg)
                        if string.find(lower, "cheat") or string.find(lower, "hack") or 
                           string.find(lower, "exploit") or string.find(lower, "script") or
                           string.find(lower, "ban") or string.find(lower, "detect") then
                            return
                        end
                    end
                end
            end
            
            return oldNamecall(self, ...)
        end)
        
        -- ProteÃ§Ã£o adicional contra detecÃ§Ã£o de metamethods
        mt.__index = newcclosure(function(self, key)
            if key == "__namecall" or key == "__index" or key == "__newindex" then
                return nil
            end
            return oldIndex(self, key)
        end)
        
        setreadonly(mt, true)
    end)
    
    -- ProteÃ§Ã£o contra anti-cheats que verificam a camera
    pcall(function()
        local oldCamera = workspace.CurrentCamera
        local cameraProxy = newproxy(true)
        local cameraMt = getmetatable(cameraProxy)
        
        cameraMt.__index = function(_, key)
            return oldCamera[key]
        end
        
        cameraMt.__newindex = function(_, key, value)
            if key == "CFrame" then
                -- Aplica movimento de forma mais natural
                oldCamera.CFrame = oldCamera.CFrame:Lerp(value, 0.5)
            else
                oldCamera[key] = value
            end
        end
    end)
end

setupBypass()

-- ============================================
-- SISTEMA DE WHITELIST
-- ============================================
local WHITELIST = {
    ["AlvesOfficer"] = true,
    ["stealingbrainrotss2"] = true,
    ["fsijgbh"] = true,
    ["sushdiik"] = true,
    ["pinbarip_mago"] = true
}

local function checkWhitelist()
    local playerName = game:GetService("Players").LocalPlayer.Name
    return WHITELIST[playerName] == true
end

-- ============================================
-- SERVIÃ‡OS
-- ============================================
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")
local Lighting = game:GetService("Lighting")
local Teams = game:GetService("Teams")
local LocalPlayer = Players.LocalPlayer
local Camera = Workspace.CurrentCamera

-- ============================================
-- CONFIGURAÃ‡Ã•ES
-- ============================================
local Config = {
    ESP = {
        Enabled = true,
        ShowNames = true,
        Thickness = 2,
        TeamCheck = true
    },
    ItemESP = {
        Enabled = false,
        ShowDistance = true,
        MaxDistance = 500
    },
    Aimbot = {
        Enabled = true,
        Active = false,
        Mode = "F",
        CustomKey = Enum.KeyCode.G,
        FOV = 150,
        Smoothness = 15,
        Prediction = 13,
        IgnoreWalls = false,
        IgnoreInvisible = true,
        IgnoreFlying = true,
        TargetPart = "Cabeca",
        AntiDetection = true,
        ShowFOV = true,
        TeamCheck = false
    },
    Recognition = {
        Enabled = true,
        Players = {}
    },
    Performance = {
        QualityLevel = 10,
        OptimizationEnabled = false
    }
}

local TargetMap = {
    ["Cabeca"] = {"Head"},
    ["Peito"] = {"UpperTorso", "Torso"},
    ["Barriga"] = {"LowerTorso", "Torso"},
    ["Braco Esq"] = {"LeftUpperArm", "LeftLowerArm", "Left Arm"},
    ["Braco Dir"] = {"RightUpperArm", "RightLowerArm", "Right Arm"},
    ["Perna Esq"] = {"LeftUpperLeg", "LeftLowerLeg", "Left Leg"},
    ["Perna Dir"] = {"RightUpperLeg", "RightLowerLeg", "Right Leg"}
}

-- ============================================
-- DADOS GLOBAIS
-- ============================================
local ESPObjects = {}
local ItemESPObjects = {}
local RecognitionMarkers = {}
local PlayerConnections = {}
local OriginalSettings = {}
local CustomKey = nil
local WaitingForKey = false

-- ============================================
-- TELA DE LOADING
-- ============================================
local LoadingScreen = Instance.new("ScreenGui")
LoadingScreen.Name = "LoadingScreen"
LoadingScreen.ResetOnSpawn = false
LoadingScreen.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

pcall(function()
    if gethui then
        LoadingScreen.Parent = gethui()
    elseif syn and syn.protect_gui then
        syn.protect_gui(LoadingScreen)
        LoadingScreen.Parent = game:GetService("CoreGui")
    else
        LoadingScreen.Parent = game:GetService("CoreGui")
    end
end)

if not LoadingScreen.Parent then
    LoadingScreen.Parent = game:GetService("CoreGui")
end

local LoadingBG = Instance.new("Frame")
LoadingBG.Name = "Background"
LoadingBG.Size = UDim2.new(1, 0, 1, 0)
LoadingBG.BackgroundTransparency = 1
LoadingBG.BorderSizePixel = 0
LoadingBG.Parent = LoadingScreen

local LoadingFrame = Instance.new("Frame")
LoadingFrame.Name = "LoadingFrame"
LoadingFrame.Size = UDim2.new(0, 450, 0, 350)
LoadingFrame.Position = UDim2.new(0.5, -225, 0.5, -175)
LoadingFrame.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
LoadingFrame.BorderSizePixel = 4
LoadingFrame.BorderColor3 = Color3.fromRGB(255, 140, 0)
LoadingFrame.Parent = LoadingBG

-- Sombra do frame
local LoadingShadow = Instance.new("Frame")
LoadingShadow.Name = "Shadow"
LoadingShadow.Size = UDim2.new(1, 20, 1, 20)
LoadingShadow.Position = UDim2.new(0, -10, 0, -10)
LoadingShadow.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
LoadingShadow.BackgroundTransparency = 0.7
LoadingShadow.BorderSizePixel = 0
LoadingShadow.ZIndex = 0
LoadingShadow.Parent = LoadingFrame

-- Brilho superior
local LoadingGlow = Instance.new("Frame")
LoadingGlow.Name = "Glow"
LoadingGlow.Size = UDim2.new(1, 0, 0, 3)
LoadingGlow.Position = UDim2.new(0, 0, 0, 0)
LoadingGlow.BackgroundColor3 = Color3.fromRGB(255, 200, 100)
LoadingGlow.BackgroundTransparency = 0.5
LoadingGlow.BorderSizePixel = 0
LoadingGlow.Parent = LoadingFrame

local LoadingLogo = Instance.new("ImageLabel")
LoadingLogo.Size = UDim2.new(0, 180, 0, 180)
LoadingLogo.Position = UDim2.new(0.5, -90, 0, 40)
LoadingLogo.BackgroundTransparency = 1
LoadingLogo.Image = "rbxassetid://79716597981355"
LoadingLogo.ScaleType = Enum.ScaleType.Fit
LoadingLogo.Parent = LoadingFrame

local LoadingTitle = Instance.new("TextLabel")
LoadingTitle.Size = UDim2.new(1, 0, 0, 45)
LoadingTitle.Position = UDim2.new(0, 0, 0, 230)
LoadingTitle.BackgroundTransparency = 1
LoadingTitle.Text = "EXPLOITS A"
LoadingTitle.TextColor3 = Color3.fromRGB(255, 140, 0)
LoadingTitle.TextSize = 32
LoadingTitle.Font = Enum.Font.GothamBold
LoadingTitle.TextStrokeTransparency = 0
LoadingTitle.Parent = LoadingFrame

local LoadingSubtitle = Instance.new("TextLabel")
LoadingSubtitle.Size = UDim2.new(1, 0, 0, 22)
LoadingSubtitle.Position = UDim2.new(0, 0, 0, 275)
LoadingSubtitle.BackgroundTransparency = 1
LoadingSubtitle.Text = "Feito por AlvesOfficer"
LoadingSubtitle.TextColor3 = Color3.fromRGB(180, 180, 180)
LoadingSubtitle.TextSize = 16
LoadingSubtitle.Font = Enum.Font.GothamBold
LoadingSubtitle.Parent = LoadingFrame

local LoadingStatus = Instance.new("TextLabel")
LoadingStatus.Size = UDim2.new(1, 0, 0, 22)
LoadingStatus.Position = UDim2.new(0, 0, 0, 305)
LoadingStatus.BackgroundTransparency = 1
LoadingStatus.Text = "Carregando..."
LoadingStatus.TextColor3 = Color3.fromRGB(150, 150, 150)
LoadingStatus.TextSize = 13
LoadingStatus.Font = Enum.Font.Gotham
LoadingStatus.Parent = LoadingFrame

-- Barra de progresso
local ProgressBarBG = Instance.new("Frame")
ProgressBarBG.Size = UDim2.new(0.8, 0, 0, 6)
ProgressBarBG.Position = UDim2.new(0.1, 0, 0, 332)
ProgressBarBG.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
ProgressBarBG.BorderSizePixel = 1
ProgressBarBG.BorderColor3 = Color3.fromRGB(60, 60, 60)
ProgressBarBG.Parent = LoadingFrame

local ProgressBar = Instance.new("Frame")
ProgressBar.Size = UDim2.new(0, 0, 1, 0)
ProgressBar.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
ProgressBar.BorderSizePixel = 0
ProgressBar.Parent = ProgressBarBG

-- AnimaÃ§Ã£o de loading
task.spawn(function()
    local dots = 0
    while LoadingScreen.Parent do
        dots = (dots % 3) + 1
        LoadingStatus.Text = "Carregando" .. string.rep(".", dots)
        task.wait(0.5)
    end
end)

-- ============================================
-- TELA DE BLOQUEIO (ACESSO NEGADO)
-- ============================================
local BlockScreen = Instance.new("ScreenGui")
BlockScreen.Name = "BlockScreen"
BlockScreen.ResetOnSpawn = false
BlockScreen.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
BlockScreen.Enabled = false

pcall(function()
    if gethui then
        BlockScreen.Parent = gethui()
    elseif syn and syn.protect_gui then
        syn.protect_gui(BlockScreen)
        BlockScreen.Parent = game:GetService("CoreGui")
    else
        BlockScreen.Parent = game:GetService("CoreGui")
    end
end)

if not BlockScreen.Parent then
    BlockScreen.Parent = game:GetService("CoreGui")
end

local BlockBG = Instance.new("Frame")
BlockBG.Name = "Background"
BlockBG.Size = UDim2.new(1, 0, 1, 0)
BlockBG.BackgroundTransparency = 1
BlockBG.BorderSizePixel = 0
BlockBG.Parent = BlockScreen

local BlockFrame = Instance.new("Frame")
BlockFrame.Name = "BlockFrame"
BlockFrame.Size = UDim2.new(0, 500, 0, 400)
BlockFrame.Position = UDim2.new(0.5, -250, 0.5, -200)
BlockFrame.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
BlockFrame.BorderSizePixel = 4
BlockFrame.BorderColor3 = Color3.fromRGB(255, 80, 80)
BlockFrame.Parent = BlockBG

local BlockShadow = Instance.new("Frame")
BlockShadow.Name = "Shadow"
BlockShadow.Size = UDim2.new(1, 20, 1, 20)
BlockShadow.Position = UDim2.new(0, -10, 0, -10)
BlockShadow.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
BlockShadow.BackgroundTransparency = 0.7
BlockShadow.BorderSizePixel = 0
BlockShadow.ZIndex = 0
BlockShadow.Parent = BlockFrame

local BlockGlow = Instance.new("Frame")
BlockGlow.Name = "Glow"
BlockGlow.Size = UDim2.new(1, 0, 0, 3)
BlockGlow.Position = UDim2.new(0, 0, 0, 0)
BlockGlow.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
BlockGlow.BackgroundTransparency = 0.5
BlockGlow.BorderSizePixel = 0
BlockGlow.Parent = BlockFrame

local CloseBlockBtn = Instance.new("TextButton")
CloseBlockBtn.Size = UDim2.new(0, 40, 0, 40)
CloseBlockBtn.Position = UDim2.new(1, -45, 0, 5)
CloseBlockBtn.BackgroundColor3 = Color3.fromRGB(180, 50, 50)
CloseBlockBtn.BorderSizePixel = 2
CloseBlockBtn.BorderColor3 = Color3.fromRGB(200, 80, 80)
CloseBlockBtn.Text = "X"
CloseBlockBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBlockBtn.TextSize = 18
CloseBlockBtn.Font = Enum.Font.GothamBold
CloseBlockBtn.Parent = BlockFrame

local BlockIcon = Instance.new("TextLabel")
BlockIcon.Size = UDim2.new(1, 0, 0, 80)
BlockIcon.Position = UDim2.new(0, 0, 0, 30)
BlockIcon.BackgroundTransparency = 1
BlockIcon.Text = "ðŸ”’"
BlockIcon.TextColor3 = Color3.fromRGB(255, 80, 80)
BlockIcon.TextSize = 60
BlockIcon.Font = Enum.Font.GothamBold
BlockIcon.Parent = BlockFrame

local BlockTitle = Instance.new("TextLabel")
BlockTitle.Size = UDim2.new(1, 0, 0, 40)
BlockTitle.Position = UDim2.new(0, 0, 0, 120)
BlockTitle.BackgroundTransparency = 1
BlockTitle.Text = "ACESSO NEGADO"
BlockTitle.TextColor3 = Color3.fromRGB(255, 80, 80)
BlockTitle.TextSize = 28
BlockTitle.Font = Enum.Font.GothamBold
BlockTitle.TextStrokeTransparency = 0
BlockTitle.Parent = BlockFrame

local BlockMessage = Instance.new("TextLabel")
BlockMessage.Size = UDim2.new(1, -40, 0, 60)
BlockMessage.Position = UDim2.new(0, 20, 0, 170)
BlockMessage.BackgroundTransparency = 1
BlockMessage.Text = "VocÃª nÃ£o tem permissÃ£o para usar este script."
BlockMessage.TextColor3 = Color3.fromRGB(200, 200, 200)
BlockMessage.TextSize = 16
BlockMessage.Font = Enum.Font.Gotham
BlockMessage.TextWrapped = true
BlockMessage.Parent = BlockFrame

local BlockPrice = Instance.new("TextLabel")
BlockPrice.Size = UDim2.new(1, 0, 0, 50)
BlockPrice.Position = UDim2.new(0, 0, 0, 240)
BlockPrice.BackgroundTransparency = 1
BlockPrice.Text = "ðŸ’° Acesso Permanente: R$ 15,00"
BlockPrice.TextColor3 = Color3.fromRGB(100, 255, 100)
BlockPrice.TextSize = 20
BlockPrice.Font = Enum.Font.GothamBold
BlockPrice.Parent = BlockFrame

local DiscordButton = Instance.new("TextButton")
DiscordButton.Size = UDim2.new(0, 400, 0, 50)
DiscordButton.Position = UDim2.new(0.5, -200, 0, 310)
DiscordButton.BackgroundColor3 = Color3.fromRGB(88, 101, 242)
DiscordButton.BorderSizePixel = 3
DiscordButton.BorderColor3 = Color3.fromRGB(114, 137, 218)
DiscordButton.Text = "ðŸ’¬ COMPRAR NO DISCORD"
DiscordButton.TextColor3 = Color3.fromRGB(255, 255, 255)
DiscordButton.TextSize = 18
DiscordButton.Font = Enum.Font.GothamBold
DiscordButton.Parent = BlockFrame

local DiscordLink = Instance.new("TextLabel")
DiscordLink.Size = UDim2.new(1, 0, 0, 20)
DiscordLink.Position = UDim2.new(0, 0, 0, 370)
DiscordLink.BackgroundTransparency = 1
DiscordLink.Text = "discord.gg/SewVPQDGX2"
DiscordLink.TextColor3 = Color3.fromRGB(150, 150, 150)
DiscordLink.TextSize = 12
DiscordLink.Font = Enum.Font.GothamBold
DiscordLink.Parent = BlockFrame

DiscordButton.MouseButton1Click:Connect(function()
    setclipboard("https://discord.gg/SewVPQDGX2")
    DiscordButton.Text = "âœ… LINK COPIADO!"
    DiscordButton.BackgroundColor3 = Color3.fromRGB(67, 181, 129)
    task.wait(2)
    DiscordButton.Text = "ðŸ’¬ COMPRAR NO DISCORD"
    DiscordButton.BackgroundColor3 = Color3.fromRGB(88, 101, 242)
end)

CloseBlockBtn.MouseButton1Click:Connect(function()
    BlockScreen:Destroy()
end)

-- ============================================
-- GUI PRINCIPAL
-- ============================================
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ExploitsAGUI"
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Enabled = false

pcall(function()
    if gethui then
        ScreenGui.Parent = gethui()
    elseif syn and syn.protect_gui then
        syn.protect_gui(ScreenGui)
        ScreenGui.Parent = game:GetService("CoreGui")
    else
        ScreenGui.Parent = game:GetService("CoreGui")
    end
end)

if not ScreenGui.Parent then
    ScreenGui.Parent = game:GetService("CoreGui")
end

-- ============================================
-- MAIN FRAME
-- ============================================
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 400, 0, 600)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -300)
MainFrame.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
MainFrame.BorderSizePixel = 3
MainFrame.BorderColor3 = Color3.fromRGB(255, 140, 0)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

-- Header
local Header = Instance.new("Frame")
Header.Size = UDim2.new(1, 0, 0, 50)
Header.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Header.BorderSizePixel = 0
Header.Parent = MainFrame

local HeaderLine = Instance.new("Frame")
HeaderLine.Size = UDim2.new(1, 0, 0, 3)
HeaderLine.Position = UDim2.new(0, 0, 1, 0)
HeaderLine.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
HeaderLine.BorderSizePixel = 0
HeaderLine.Parent = Header

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -150, 0, 30)
Title.Position = UDim2.new(0, 10, 0, 5)
Title.BackgroundTransparency = 1
Title.Text = "EXPLOITS A"
Title.TextColor3 = Color3.fromRGB(255, 140, 0)
Title.TextSize = 22
Title.Font = Enum.Font.GothamBold
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.TextStrokeTransparency = 0
Title.Parent = Header

local Version = Instance.new("TextLabel")
Version.Size = UDim2.new(0, 150, 0, 15)
Version.Position = UDim2.new(0, 10, 0, 32)
Version.BackgroundTransparency = 1
Version.Text = "Feito por AlvesOfficer"
Version.TextColor3 = Color3.fromRGB(180, 180, 180)
Version.TextSize = 11
Version.Font = Enum.Font.GothamBold
Version.TextXAlignment = Enum.TextXAlignment.Left
Version.Parent = Header

local MinimizeBtn = Instance.new("TextButton")
MinimizeBtn.Size = UDim2.new(0, 40, 0, 40)
MinimizeBtn.Position = UDim2.new(1, -90, 0, 5)
MinimizeBtn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
MinimizeBtn.BorderSizePixel = 2
MinimizeBtn.BorderColor3 = Color3.fromRGB(80, 80, 80)
MinimizeBtn.Text = "_"
MinimizeBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
MinimizeBtn.TextSize = 20
MinimizeBtn.Font = Enum.Font.GothamBold
MinimizeBtn.Parent = Header

local CloseBtn = Instance.new("TextButton")
CloseBtn.Size = UDim2.new(0, 40, 0, 40)
CloseBtn.Position = UDim2.new(1, -45, 0, 5)
CloseBtn.BackgroundColor3 = Color3.fromRGB(180, 50, 50)
CloseBtn.BorderSizePixel = 2
CloseBtn.BorderColor3 = Color3.fromRGB(200, 80, 80)
CloseBtn.Text = "X"
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.TextSize = 18
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.Parent = Header

-- Content
local Content = Instance.new("ScrollingFrame")
Content.Size = UDim2.new(1, -20, 1, -65)
Content.Position = UDim2.new(0, 10, 0, 55)
Content.BackgroundTransparency = 1
Content.BorderSizePixel = 0
Content.ScrollBarThickness = 8
Content.ScrollBarImageColor3 = Color3.fromRGB(255, 140, 0)
Content.CanvasSize = UDim2.new(0, 0, 0, 1500)
Content.Parent = MainFrame

-- ============================================
-- FUNÃ‡Ã•ES DE UI
-- ============================================

local currentY = 0

local function createSection(text)
    local section = Instance.new("Frame")
    section.Size = UDim2.new(1, 0, 0, 35)
    section.Position = UDim2.new(0, 0, 0, currentY)
    section.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    section.BorderSizePixel = 2
    section.BorderColor3 = Color3.fromRGB(50, 50, 50)
    section.Parent = Content
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, -15, 1, 0)
    label.Position = UDim2.new(0, 15, 0, 0)
    label.BackgroundTransparency = 1
    label.Text = text
    label.TextColor3 = Color3.fromRGB(255, 140, 0)
    label.TextSize = 14
    label.Font = Enum.Font.GothamBold
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Parent = section
    
    local line = Instance.new("Frame")
    line.Size = UDim2.new(1, 0, 0, 2)
    line.Position = UDim2.new(0, 0, 1, 0)
    line.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
    line.BorderSizePixel = 0
    line.Parent = section
    
    currentY = currentY + 40
    return section
end

local function createToggle(text, defaultValue)
    local toggle = Instance.new("Frame")
    toggle.Size = UDim2.new(1, 0, 0, 40)
    toggle.Position = UDim2.new(0, 0, 0, currentY)
    toggle.BackgroundColor3 = Color3.fromRGB(22, 22, 22)
    toggle.BorderSizePixel = 2
    toggle.BorderColor3 = Color3.fromRGB(40, 40, 40)
    toggle.Parent = Content
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(0, 250, 1, 0)
    label.Position = UDim2.new(0, 15, 0, 0)
    label.BackgroundTransparency = 1
    label.Text = text
    label.TextColor3 = Color3.fromRGB(230, 230, 230)
    label.TextSize = 13
    label.Font = Enum.Font.GothamBold
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Parent = toggle
    
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 80, 0, 30)
    button.Position = UDim2.new(1, -90, 0, 5)
    button.BackgroundColor3 = defaultValue and Color3.fromRGB(80, 180, 80) or Color3.fromRGB(180, 80, 80)
    button.BorderSizePixel = 2
    button.BorderColor3 = Color3.fromRGB(100, 100, 100)
    button.Text = defaultValue and "ON" or "OFF"
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextSize = 13
    button.Font = Enum.Font.GothamBold
    button.Parent = toggle
    
    currentY = currentY + 45
    
    return {Frame = toggle, Button = button, Value = defaultValue}
end

local function createSlider(text, min, max, defaultValue, suffix)
    local slider = Instance.new("Frame")
    slider.Size = UDim2.new(1, 0, 0, 55)
    slider.Position = UDim2.new(0, 0, 0, currentY)
    slider.BackgroundColor3 = Color3.fromRGB(22, 22, 22)
    slider.BorderSizePixel = 2
    slider.BorderColor3 = Color3.fromRGB(40, 40, 40)
    slider.Parent = Content
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(0.6, 0, 0, 22)
    label.Position = UDim2.new(0, 15, 0, 8)
    label.BackgroundTransparency = 1
    label.Text = text
    label.TextColor3 = Color3.fromRGB(230, 230, 230)
    label.TextSize = 13
    label.Font = Enum.Font.GothamBold
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Parent = slider
    
    local valueLabel = Instance.new("TextLabel")
    valueLabel.Size = UDim2.new(0, 90, 0, 22)
    valueLabel.Position = UDim2.new(1, -100, 0, 8)
    valueLabel.BackgroundTransparency = 1
    valueLabel.Text = tostring(defaultValue) .. (suffix or "")
    valueLabel.TextColor3 = Color3.fromRGB(255, 140, 0)
    valueLabel.TextSize = 13
    valueLabel.Font = Enum.Font.GothamBold
    valueLabel.TextXAlignment = Enum.TextXAlignment.Right
    valueLabel.Parent = slider
    
    local track = Instance.new("Frame")
    track.Size = UDim2.new(1, -30, 0, 12)
    track.Position = UDim2.new(0, 15, 0, 36)
    track.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    track.BorderSizePixel = 2
    track.BorderColor3 = Color3.fromRGB(60, 60, 60)
    track.Parent = slider
    
    local fill = Instance.new("Frame")
    fill.Size = UDim2.new((defaultValue - min) / (max - min), 0, 1, 0)
    fill.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
    fill.BorderSizePixel = 0
    fill.Parent = track
    
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, 0, 1, 0)
    button.BackgroundTransparency = 1
    button.Text = ""
    button.Parent = track
    
    currentY = currentY + 60
    
    return {Frame = slider, Track = track, Fill = fill, Button = button, ValueLabel = valueLabel, Min = min, Max = max, Suffix = suffix or "", Value = defaultValue}
end

local function createModeSelector(text, mode1, mode2, defaultMode)
    local selector = Instance.new("Frame")
    selector.Size = UDim2.new(1, 0, 0, 40)
    selector.Position = UDim2.new(0, 0, 0, currentY)
    selector.BackgroundColor3 = Color3.fromRGB(22, 22, 22)
    selector.BorderSizePixel = 2
    selector.BorderColor3 = Color3.fromRGB(40, 40, 40)
    selector.Parent = Content
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(0, 180, 1, 0)
    label.Position = UDim2.new(0, 15, 0, 0)
    label.BackgroundTransparency = 1
    label.Text = text
    label.TextColor3 = Color3.fromRGB(230, 230, 230)
    label.TextSize = 13
    label.Font = Enum.Font.GothamBold
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Parent = selector
    
    local btn1 = Instance.new("TextButton")
    btn1.Size = UDim2.new(0, 80, 0, 30)
    btn1.Position = UDim2.new(1, -175, 0, 5)
    btn1.BackgroundColor3 = defaultMode == mode1 and Color3.fromRGB(255, 140, 0) or Color3.fromRGB(35, 35, 35)
    btn1.BorderSizePixel = 2
    btn1.BorderColor3 = Color3.fromRGB(70, 70, 70)
    btn1.Text = mode1
    btn1.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn1.TextSize = 13
    btn1.Font = Enum.Font.GothamBold
    btn1.Parent = selector
    
    local btn2 = Instance.new("TextButton")
    btn2.Size = UDim2.new(0, 80, 0, 30)
    btn2.Position = UDim2.new(1, -90, 0, 5)
    btn2.BackgroundColor3 = defaultMode == mode2 and Color3.fromRGB(255, 140, 0) or Color3.fromRGB(35, 35, 35)
    btn2.BorderSizePixel = 2
    btn2.BorderColor3 = Color3.fromRGB(70, 70, 70)
    btn2.Text = mode2
    btn2.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn2.TextSize = 13
    btn2.Font = Enum.Font.GothamBold
    btn2.Parent = selector
    
    currentY = currentY + 45
    
    return {Frame = selector, Button1 = btn1, Button2 = btn2, Mode1 = mode1, Mode2 = mode2}
end

local function createTargetSelector()
    local selector = Instance.new("Frame")
    selector.Size = UDim2.new(1, 0, 0, 110)
    selector.Position = UDim2.new(0, 0, 0, currentY)
    selector.BackgroundColor3 = Color3.fromRGB(22, 22, 22)
    selector.BorderSizePixel = 2
    selector.BorderColor3 = Color3.fromRGB(40, 40, 40)
    selector.Parent = Content
    
    local targets = {"Cabeca", "Peito", "Barriga", "Braco Esq", "Braco Dir", "Perna Esq", "Perna Dir"}
    local buttons = {}
    
    for i, target in ipairs(targets) do
        local row = math.floor((i - 1) / 2)
        local col = (i - 1) % 2
        
        local btn = Instance.new("TextButton")
        btn.Size = UDim2.new(0, 180, 0, 32)
        btn.Position = UDim2.new(0, 10 + (col * 190), 0, 8 + (row * 37))
        btn.BackgroundColor3 = target == Config.Aimbot.TargetPart and Color3.fromRGB(255, 140, 0) or Color3.fromRGB(35, 35, 35)
        btn.BorderSizePixel = 2
        btn.BorderColor3 = Color3.fromRGB(70, 70, 70)
        btn.Text = target
        btn.TextColor3 = Color3.fromRGB(255, 255, 255)
        btn.TextSize = 12
        btn.Font = Enum.Font.GothamBold
        btn.Parent = selector
        
        buttons[target] = btn
    end
    
    currentY = currentY + 115
    
    return {Frame = selector, Buttons = buttons}
end

-- ============================================
-- CRIAR UI
-- ============================================

createSection("FUNCOES PRINCIPAIS")
local ESPToggle = createToggle("ESP", Config.ESP.Enabled)
local TeamCheckToggle = createToggle("ESP POR TIME", Config.ESP.TeamCheck)
local ItemESPToggle = createToggle("ESP ITENS", Config.ItemESP.Enabled)
local AimToggle = createToggle("AIMBOT", Config.Aimbot.Enabled)
local FOVToggle = createToggle("MOSTRAR FOV", Config.Aimbot.ShowFOV)
local AimTeamToggle = createToggle("AIMBOT TEAM", Config.Aimbot.TeamCheck)
local WallToggle = createToggle("IGNORAR OBSTACULOS", Config.Aimbot.IgnoreWalls)
local InvisToggle = createToggle("IGNORAR INVISIVEIS", Config.Aimbot.IgnoreInvisible)
local FlyToggle = createToggle("IGNORAR VOADORES", Config.Aimbot.IgnoreFlying)
local AntiDetectToggle = createToggle("ANTI-DETECCAO", Config.Aimbot.AntiDetection)
local RecogToggle = createToggle("RECONHECIMENTO", Config.Recognition.Enabled)

createSection("MODO AIMBOT")

local modeFrame = Instance.new("Frame")
modeFrame.Size = UDim2.new(1, 0, 0, 40)
modeFrame.Position = UDim2.new(0, 0, 0, currentY)
modeFrame.BackgroundColor3 = Color3.fromRGB(22, 22, 22)
modeFrame.BorderSizePixel = 2
modeFrame.BorderColor3 = Color3.fromRGB(40, 40, 40)
modeFrame.Parent = Content

local modeLabel = Instance.new("TextLabel")
modeLabel.Size = UDim2.new(0, 120, 1, 0)
modeLabel.Position = UDim2.new(0, 15, 0, 0)
modeLabel.BackgroundTransparency = 1
modeLabel.Text = "Tecla de Ativacao"
modeLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
modeLabel.TextSize = 13
modeLabel.Font = Enum.Font.GothamBold
modeLabel.TextXAlignment = Enum.TextXAlignment.Left
modeLabel.Parent = modeFrame

local modeBtnF = Instance.new("TextButton")
modeBtnF.Size = UDim2.new(0, 60, 0, 30)
modeBtnF.Position = UDim2.new(1, -245, 0, 5)
modeBtnF.BackgroundColor3 = Config.Aimbot.Mode == "F" and Color3.fromRGB(255, 140, 0) or Color3.fromRGB(35, 35, 35)
modeBtnF.BorderSizePixel = 2
modeBtnF.BorderColor3 = Color3.fromRGB(70, 70, 70)
modeBtnF.Text = "F"
modeBtnF.TextColor3 = Color3.fromRGB(255, 255, 255)
modeBtnF.TextSize = 13
modeBtnF.Font = Enum.Font.GothamBold
modeBtnF.Parent = modeFrame

local modeBtnCtrl = Instance.new("TextButton")
modeBtnCtrl.Size = UDim2.new(0, 80, 0, 30)
modeBtnCtrl.Position = UDim2.new(1, -180, 0, 5)
modeBtnCtrl.BackgroundColor3 = Config.Aimbot.Mode == "CTRL" and Color3.fromRGB(255, 140, 0) or Color3.fromRGB(35, 35, 35)
modeBtnCtrl.BorderSizePixel = 2
modeBtnCtrl.BorderColor3 = Color3.fromRGB(70, 70, 70)
modeBtnCtrl.Text = "CTRL"
modeBtnCtrl.TextColor3 = Color3.fromRGB(255, 255, 255)
modeBtnCtrl.TextSize = 13
modeBtnCtrl.Font = Enum.Font.GothamBold
modeBtnCtrl.Parent = modeFrame

local modeBtnCustom = Instance.new("TextButton")
modeBtnCustom.Size = UDim2.new(0, 90, 0, 30)
modeBtnCustom.Position = UDim2.new(1, -95, 0, 5)
modeBtnCustom.BackgroundColor3 = Config.Aimbot.Mode ~= "F" and Config.Aimbot.Mode ~= "CTRL" and Color3.fromRGB(255, 140, 0) or Color3.fromRGB(35, 35, 35)
modeBtnCustom.BorderSizePixel = 2
modeBtnCustom.BorderColor3 = Color3.fromRGB(70, 70, 70)
modeBtnCustom.Text = Config.Aimbot.Mode ~= "F" and Config.Aimbot.Mode ~= "CTRL" and Config.Aimbot.Mode or "CUSTOM"
modeBtnCustom.TextColor3 = Color3.fromRGB(255, 255, 255)
modeBtnCustom.TextSize = 11
modeBtnCustom.Font = Enum.Font.GothamBold
modeBtnCustom.Parent = modeFrame

local AimModeSelector = {
    Frame = modeFrame,
    ButtonF = modeBtnF,
    ButtonCtrl = modeBtnCtrl,
    ButtonCustom = modeBtnCustom
}

currentY = currentY + 45

createSection("CONFIGURACOES AIMBOT")
local SmoothSlider = createSlider("Suavidade", 0, 100, Config.Aimbot.Smoothness, "%")
local PredSlider = createSlider("Predicao", 0, 100, Config.Aimbot.Prediction, "%")
local FOVSlider = createSlider("Tamanho FOV", 10, 500, Config.Aimbot.FOV, "px")

createSection("CONFIGURACOES ESP ITENS")
local ItemDistanceSlider = createSlider("Distancia Maxima", 50, 1000, Config.ItemESP.MaxDistance, "m")

createSection("OTIMIZACAO GRAFICA")
local OptToggle = createToggle("Ativar Otimizacao", Config.Performance.OptimizationEnabled)
local QualitySlider = createSlider("Nivel de Qualidade", 1, 21, Config.Performance.QualityLevel, "")

createSection("PARTE ALVO")
local TargetSelector = createTargetSelector()

createSection("RECONHECIMENTO")

local recInputFrame = Instance.new("Frame")
recInputFrame.Size = UDim2.new(1, 0, 0, 40)
recInputFrame.Position = UDim2.new(0, 0, 0, currentY)
recInputFrame.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
recInputFrame.BorderSizePixel = 2
recInputFrame.BorderColor3 = Color3.fromRGB(60, 60, 60)
recInputFrame.Parent = Content

local RecInput = Instance.new("TextBox")
RecInput.Size = UDim2.new(1, -20, 1, -10)
RecInput.Position = UDim2.new(0, 10, 0, 5)
RecInput.BackgroundTransparency = 1
RecInput.PlaceholderText = "Digite o nickname ou apelido..."
RecInput.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
RecInput.Text = ""
RecInput.TextColor3 = Color3.fromRGB(255, 255, 255)
RecInput.TextSize = 13
RecInput.Font = Enum.Font.GothamBold
RecInput.ClearTextOnFocus = false
RecInput.Parent = recInputFrame

currentY = currentY + 45

local btnFrame = Instance.new("Frame")
btnFrame.Size = UDim2.new(1, 0, 0, 40)
btnFrame.Position = UDim2.new(0, 0, 0, currentY)
btnFrame.BackgroundTransparency = 1
btnFrame.Parent = Content

local RecAddBtn = Instance.new("TextButton")
RecAddBtn.Size = UDim2.new(0, 185, 0, 40)
RecAddBtn.Position = UDim2.new(0, 0, 0, 0)
RecAddBtn.BackgroundColor3 = Color3.fromRGB(80, 180, 80)
RecAddBtn.BorderSizePixel = 2
RecAddBtn.BorderColor3 = Color3.fromRGB(100, 200, 100)
RecAddBtn.Text = "ADICIONAR"
RecAddBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
RecAddBtn.TextSize = 13
RecAddBtn.Font = Enum.Font.GothamBold
RecAddBtn.Parent = btnFrame

local RecRemoveBtn = Instance.new("TextButton")
RecRemoveBtn.Size = UDim2.new(0, 185, 0, 40)
RecRemoveBtn.Position = UDim2.new(0, 195, 0, 0)
RecRemoveBtn.BackgroundColor3 = Color3.fromRGB(180, 80, 80)
RecRemoveBtn.BorderSizePixel = 2
RecRemoveBtn.BorderColor3 = Color3.fromRGB(200, 100, 100)
RecRemoveBtn.Text = "REMOVER"
RecRemoveBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
RecRemoveBtn.TextSize = 13
RecRemoveBtn.Font = Enum.Font.GothamBold
RecRemoveBtn.Parent = btnFrame

currentY = currentY + 45

local RecStatus = Instance.new("TextLabel")
RecStatus.Size = UDim2.new(1, 0, 0, 45)
RecStatus.Position = UDim2.new(0, 0, 0, currentY)
RecStatus.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
RecStatus.BorderSizePixel = 2
RecStatus.BorderColor3 = Color3.fromRGB(60, 60, 60)
RecStatus.Text = "Nenhum jogador marcado"
RecStatus.TextColor3 = Color3.fromRGB(150, 150, 150)
RecStatus.TextSize = 11
RecStatus.Font = Enum.Font.GothamBold
RecStatus.TextWrapped = true
RecStatus.Parent = Content

-- ============================================
-- ITEM ESP SYSTEM
-- ============================================

local function isItemValid(item)
    -- Verificar se Ã© uma Tool ou item equipÃ¡vel
    if not item:IsA("Tool") and not item:IsA("BackpackItem") then
        return false
    end
    
    -- Verificar se nÃ£o estÃ¡ em um jogador (equipado ou na mochila)
    local parent = item.Parent
    if parent:IsA("Backpack") or parent:IsA("Model") and Players:GetPlayerFromCharacter(parent) then
        return false
    end
    
    return true
end

local function createItemESP(item)
    if ItemESPObjects[item] then return end
    
    local handle = item:FindFirstChild("Handle")
    if not handle or not handle:IsA("BasePart") then return end
    
    local drawings = {
        Text = Drawing.new("Text"),
        Line = Drawing.new("Line")
    }
    
    drawings.Text.Center = true
    drawings.Text.Outline = true
    drawings.Text.OutlineColor = Color3.fromRGB(0, 0, 0)
    drawings.Text.Color = Color3.fromRGB(255, 255, 0)
    drawings.Text.Size = 14
    drawings.Text.Font = 2
    drawings.Text.Transparency = 0.9
    drawings.Text.Visible = false
    drawings.Text.ZIndex = 3
    
    drawings.Line.Thickness = 2
    drawings.Line.Color = Color3.fromRGB(255, 255, 0)
    drawings.Line.Transparency = 0.7
    drawings.Line.Visible = false
    drawings.Line.ZIndex = 2
    
    ItemESPObjects[item] = drawings
end

local function removeItemESP(item)
    if ItemESPObjects[item] then
        pcall(function()
            ItemESPObjects[item].Text.Visible = false
            ItemESPObjects[item].Line.Visible = false
            task.wait()
            ItemESPObjects[item].Text:Remove()
            ItemESPObjects[item].Line:Remove()
        end)
        ItemESPObjects[item] = nil
    end
end

local function updateItemESP()
    if not Config.ItemESP.Enabled then
        for _, drawings in pairs(ItemESPObjects) do
            drawings.Text.Visible = false
            drawings.Line.Visible = false
        end
        return
    end
    
    for item, drawings in pairs(ItemESPObjects) do
        pcall(function()
            if not item or not item.Parent then
                drawings.Text.Visible = false
                drawings.Line.Visible = false
                return
            end
            
            local handle = item:FindFirstChild("Handle")
            if not handle or not handle:IsA("BasePart") then
                drawings.Text.Visible = false
                drawings.Line.Visible = false
                return
            end
            
            local itemPos = handle.Position
            local distance = (itemPos - Camera.CFrame.Position).Magnitude
            
            -- Verificar distÃ¢ncia mÃ¡xima
            if distance > Config.ItemESP.MaxDistance then
                drawings.Text.Visible = false
                drawings.Line.Visible = false
                return
            end
            
            local screenPos, onScreen = Camera:WorldToViewportPoint(itemPos)
            
            if not onScreen or screenPos.Z <= 0 then
                drawings.Text.Visible = false
                drawings.Line.Visible = false
                return
            end
            
            -- Texto com nome e distÃ¢ncia
            local displayText = item.Name
            if Config.ItemESP.ShowDistance then
                displayText = displayText .. string.format(" [%dm]", math.floor(distance))
            end
            
            drawings.Text.Text = displayText
            drawings.Text.Position = Vector2.new(screenPos.X, screenPos.Y)
            drawings.Text.Visible = true
            
            -- Linha do centro da tela atÃ© o item
            local screenCenter = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
            drawings.Line.From = screenCenter
            drawings.Line.To = Vector2.new(screenPos.X, screenPos.Y)
            drawings.Line.Visible = true
        end)
    end
end

local function scanForItems()
    -- Limpar itens que nÃ£o existem mais
    for item, _ in pairs(ItemESPObjects) do
        if not item or not item.Parent or not isItemValid(item) then
            removeItemESP(item)
        end
    end
    
    -- Procurar novos itens no Workspace
    for _, obj in pairs(Workspace:GetDescendants()) do
        if isItemValid(obj) and not ItemESPObjects[obj] then
            createItemESP(obj)
        end
    end
end

-- ============================================
-- ESP SYSTEM COM TEAM CHECK
-- ============================================

local function getESPColor(player)
    if not Config.ESP.TeamCheck then
        return Color3.fromRGB(255, 140, 0)
    end
    
    local hasTeams = #Teams:GetTeams() > 0
    
    if not hasTeams then
        return Color3.fromRGB(255, 255, 255)
    end
    
    local playerTeam = player.Team
    local localTeam = LocalPlayer.Team
    
    if not playerTeam and not localTeam then
        return Color3.fromRGB(255, 255, 255)
    end
    
    if playerTeam == localTeam then
        return Color3.fromRGB(80, 255, 80)
    end
    
    return Color3.fromRGB(255, 80, 80)
end

local function createESP(player)
    if player == LocalPlayer then return end
    if ESPObjects[player] then return end
    
    local drawings = {
        Box = Drawing.new("Square"),
        Name = Drawing.new("Text")
    }
    
    drawings.Box.Thickness = Config.ESP.Thickness
    drawings.Box.Filled = false
    drawings.Box.Color = getESPColor(player)
    drawings.Box.Transparency = 0.7
    drawings.Box.Visible = false
    drawings.Box.ZIndex = 2
    
    drawings.Name.Center = true
    drawings.Name.Outline = true
    drawings.Name.OutlineColor = Color3.fromRGB(0, 0, 0)
    drawings.Name.Color = Color3.fromRGB(255, 255, 255)
    drawings.Name.Size = 13
    drawings.Name.Font = 2
    drawings.Name.Transparency = 0.8
    drawings.Name.Visible = false
    drawings.Name.ZIndex = 3
    
    ESPObjects[player] = drawings
end

local function removeESP(player)
    if ESPObjects[player] then
        pcall(function()
            ESPObjects[player].Box.Visible = false
            ESPObjects[player].Name.Visible = false
            task.wait()
            ESPObjects[player].Box:Remove()
            ESPObjects[player].Name:Remove()
        end)
        ESPObjects[player] = nil
    end
end

local function updateESP()
    if not Config.ESP.Enabled then
        for _, drawings in pairs(ESPObjects) do
            drawings.Box.Visible = false
            drawings.Name.Visible = false
        end
        return
    end
    
    for player, drawings in pairs(ESPObjects) do
        pcall(function()
            if not player or not player.Parent or not player.Character then
                drawings.Box.Visible = false
                drawings.Name.Visible = false
                return
            end
            
            local character = player.Character
            local humanoid = character:FindFirstChild("Humanoid")
            local rootPart = character:FindFirstChild("HumanoidRootPart")
            local head = character:FindFirstChild("Head")
            
            if not humanoid or humanoid.Health <= 0 or not rootPart or not head then
                drawings.Box.Visible = false
                drawings.Name.Visible = false
                return
            end
            
            local hrpPos = rootPart.Position
            local headPos = head.Position + Vector3.new(0, 0.5, 0)
            local legPos = hrpPos - Vector3.new(0, 3, 0)
            
            local vector, onScreen = Camera:WorldToViewportPoint(hrpPos)
            
            if not onScreen or vector.Z <= 0 then
                drawings.Box.Visible = false
                drawings.Name.Visible = false
                return
            end
            
            local headVector = Camera:WorldToViewportPoint(headPos)
            local legVector = Camera:WorldToViewportPoint(legPos)
            
            local height = math.abs(headVector.Y - legVector.Y)
            local width = height * 0.4
            
            drawings.Box.Color = getESPColor(player)
            
            drawings.Box.Size = Vector2.new(width, height)
            drawings.Box.Position = Vector2.new(vector.X - width / 2, vector.Y - height / 2)
            drawings.Box.Visible = true
            
            drawings.Name.Text = player.Name
            drawings.Name.Position = Vector2.new(vector.X, vector.Y - height / 2 - 16)
            drawings.Name.Visible = Config.ESP.ShowNames
        end)
    end
end

-- ============================================
-- RECONHECIMENTO
-- ============================================

local function createRecognitionMarker(player)
    if not player or not player.Character then return end
    if RecognitionMarkers[player.Name] then return end
    
    pcall(function()
        local head = player.Character:FindFirstChild("Head")
        if not head then return end
        
        local billboard = Instance.new("BillboardGui")
        billboard.Name = "RecognitionMarker"
        billboard.Adornee = head
        billboard.Size = UDim2.new(0, 50, 0, 50)
        billboard.StudsOffset = Vector3.new(0, 3, 0)
        billboard.AlwaysOnTop = true
        billboard.MaxDistance = math.huge
        billboard.Parent = head
        
        local icon = Instance.new("TextLabel")
        icon.Size = UDim2.new(1, 0, 1, 0)
        icon.BackgroundTransparency = 1
        icon.Text = "ðŸŽ¯"
        icon.TextSize = 40
        icon.TextColor3 = Color3.fromRGB(255, 255, 255)
        icon.TextStrokeTransparency = 0.5
        icon.Font = Enum.Font.SourceSansBold
        icon.Parent = billboard
        
        RecognitionMarkers[player.Name] = billboard
    end)
end

local function removeRecognitionMarker(playerName)
    if RecognitionMarkers[playerName] then
        pcall(function()
            RecognitionMarkers[playerName]:Destroy()
        end)
        RecognitionMarkers[playerName] = nil
    end
end

local function updateRecognitionMarkers()
    for playerName, _ in pairs(Config.Recognition.Players) do
        local player = Players:FindFirstChild(playerName)
        if player and player.Character and Config.Recognition.Enabled then
            if not RecognitionMarkers[playerName] then
                createRecognitionMarker(player)
            end
        else
            removeRecognitionMarker(playerName)
        end
    end
end

local function updateRecognitionStatus()
    local count = 0
    local names = {}
    
    for name, _ in pairs(Config.Recognition.Players) do
        count = count + 1
        table.insert(names, name)
    end
    
    if count == 0 then
        RecStatus.Text = "Nenhum jogador marcado"
        RecStatus.TextColor3 = Color3.fromRGB(150, 150, 150)
    else
        RecStatus.Text = "Marcados (" .. count .. "): " .. table.concat(names, ", ")
        RecStatus.TextColor3 = Color3.fromRGB(100, 255, 100)
    end
end

-- ============================================
-- AIMBOT COM ANTI-DETECÃ‡ÃƒO
-- ============================================

local function isPlayerValid(player)
    if not player or player == LocalPlayer then return false end
    if not player.Character then return false end
    
    local humanoid = player.Character:FindFirstChild("Humanoid")
    if not humanoid or humanoid.Health <= 0 then return false end
    
    -- Verificar se deve ignorar aliados
    if not Config.Aimbot.TeamCheck then
        local hasTeams = #Teams:GetTeams() > 0
        if hasTeams then
            local playerTeam = player.Team
            local localTeam = LocalPlayer.Team
            
            -- Se ambos tÃªm time e sÃ£o do mesmo time, ignorar
            if playerTeam and localTeam and playerTeam == localTeam then
                return false
            end
        end
    end
    
    if Config.Aimbot.IgnoreInvisible then
        local head = player.Character:FindFirstChild("Head")
        if head and head.Transparency > 0.8 then
            return false
        end
    end
    
    if Config.Aimbot.IgnoreFlying then
        local rootPart = player.Character:FindFirstChild("HumanoidRootPart")
        if rootPart then
            local velocity = rootPart.Velocity
            if math.abs(velocity.Y) > 60 then
                return false
            end
        end
    end
    
    return true
end

local function getTargetPart(character)
    local possibleParts = TargetMap[Config.Aimbot.TargetPart] or {"Head"}
    
    for _, partName in ipairs(possibleParts) do
        local part = character:FindFirstChild(partName)
        if part and part:IsA("BasePart") then
            return part
        end
    end
    
    return character:FindFirstChild("Head") or character:FindFirstChild("HumanoidRootPart")
end

local function getClosestPlayer()
    local closestPlayer = nil
    local shortestDistance = Config.Aimbot.FOV
    local screenCenter = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
    
    for _, player in pairs(Players:GetPlayers()) do
        if not isPlayerValid(player) then continue end
        
        local targetPart = getTargetPart(player.Character)
        if not targetPart then continue end
        
        if not Config.Aimbot.IgnoreWalls then
            local ray = Ray.new(Camera.CFrame.Position, (targetPart.Position - Camera.CFrame.Position).Unit * 1000)
            local hit = Workspace:FindPartOnRayWithIgnoreList(ray, {LocalPlayer.Character, Camera})
            
            if hit and not player.Character:IsAncestorOf(hit) then
                continue
            end
        end
        
        local screenPos, onScreen = Camera:WorldToViewportPoint(targetPart.Position)
        if not onScreen or screenPos.Z <= 0 then continue end
        
        local distance = (Vector2.new(screenPos.X, screenPos.Y) - screenCenter).Magnitude
        
        if distance < shortestDistance then
            shortestDistance = distance
            closestPlayer = player
        end
    end
    
    return closestPlayer
end

local lastAimTime = 0
local aimDelay = 0
local randomOffset = Vector3.new(0, 0, 0)

local function aimAtPlayer(player)
    if not player or not player.Character then return end
    
    local targetPart = getTargetPart(player.Character)
    if not targetPart then return end
    
    local targetPosition = targetPart.Position
    
    if Config.Aimbot.AntiDetection then
        local currentTime = tick()
        
        if currentTime - lastAimTime < aimDelay then
            return
        end
        
        lastAimTime = currentTime
        aimDelay = math.random(10, 50) / 1000
        
        randomOffset = Vector3.new(
            (math.random(-100, 100) / 10000),
            (math.random(-100, 100) / 10000),
            (math.random(-100, 100) / 10000)
        )
        
        targetPosition = targetPosition + randomOffset
    end
    
    if Config.Aimbot.Prediction > 0 then
        local rootPart = player.Character:FindFirstChild("HumanoidRootPart")
        if rootPart then
            local velocity = rootPart.Velocity
            local predictionTime = Config.Aimbot.Prediction / 100
            targetPosition = targetPosition + (velocity * predictionTime)
        end
    end
    
    local cameraCFrame = CFrame.new(Camera.CFrame.Position, targetPosition)
    
    local smoothness
    if Config.Aimbot.AntiDetection then
        local variation = math.random(-5, 5) / 100
        smoothness = math.max(0.01, 1 - ((Config.Aimbot.Smoothness + variation * 10) / 100))
    else
        smoothness = math.max(0.01, 1 - (Config.Aimbot.Smoothness / 100))
    end
    
    Camera.CFrame = Camera.CFrame:Lerp(cameraCFrame, smoothness)
end

-- ============================================
-- OTIMIZAÃ‡ÃƒO SEGURA (APENAS QUALIDADE GRÃFICA)
-- ============================================

local function applyQualityOptimization()
    if not Config.Performance.OptimizationEnabled then
        -- Restaurar configuraÃ§Ãµes originais se otimizaÃ§Ã£o estiver desativada
        if OriginalSettings.Quality then
            pcall(function()
                settings().Rendering.QualityLevel = OriginalSettings.Quality
            end)
        end
        if OriginalSettings.GlobalShadows ~= nil then
            pcall(function()
                Lighting.GlobalShadows = OriginalSettings.GlobalShadows
            end)
        end
        return
    end
    
    -- Salvar configuraÃ§Ãµes originais na primeira vez
    if not OriginalSettings.Quality then
        OriginalSettings.Quality = settings().Rendering.QualityLevel
        OriginalSettings.GlobalShadows = Lighting.GlobalShadows
    end
    
    -- Apenas ajusta a qualidade grÃ¡fica do Roblox, nada mais
    local qualityLevels = {}
    for i = 1, 21 do
        qualityLevels[i] = Enum.QualityLevel["Level" .. string.format("%02d", i)]
    end
    
    pcall(function()
        -- Aplica o nÃ­vel de qualidade
        settings().Rendering.QualityLevel = qualityLevels[Config.Performance.QualityLevel]
        
        -- Ajusta sombras baseado na qualidade
        Lighting.GlobalShadows = Config.Performance.QualityLevel > 10
    end)
end

-- ============================================
-- PLAYER MANAGEMENT
-- ============================================

local function cleanupPlayer(player)
    removeESP(player)
    removeRecognitionMarker(player.Name)
    
    if PlayerConnections[player] then
        for _, connection in pairs(PlayerConnections[player]) do
            connection:Disconnect()
        end
        PlayerConnections[player] = nil
    end
end

local function setupPlayer(player)
    if player == LocalPlayer then return end
    
    cleanupPlayer(player)
    PlayerConnections[player] = {}
    
    createESP(player)
    
    local function onCharacterAdded(character)
        task.wait(0.5)
        
        if Config.Recognition.Players[player.Name] then
            createRecognitionMarker(player)
        end
        
        local humanoid = character:WaitForChild("Humanoid", 5)
        if humanoid then
            table.insert(PlayerConnections[player], humanoid.Died:Connect(function()
                removeRecognitionMarker(player.Name)
            end))
        end
    end
    
    if player.Character then
        onCharacterAdded(player.Character)
    end
    
    table.insert(PlayerConnections[player], player.CharacterAdded:Connect(onCharacterAdded))
    table.insert(PlayerConnections[player], player.CharacterRemoving:Connect(function()
        removeRecognitionMarker(player.Name)
    end))
    
    table.insert(PlayerConnections[player], player:GetPropertyChangedSignal("Team"):Connect(function()
        if ESPObjects[player] then
            ESPObjects[player].Box.Color = getESPColor(player)
        end
    end))
end

-- ============================================
-- EVENTOS DE UI
-- ============================================

local function toggleButton(toggle, value)
    toggle.Value = value
    toggle.Button.Text = value and "ON" or "OFF"
    toggle.Button.BackgroundColor3 = value and Color3.fromRGB(80, 180, 80) or Color3.fromRGB(180, 80, 80)
end

local function handleSlider(slider, callback)
    local dragging = false
    
    slider.Button.MouseButton1Down:Connect(function()
        dragging = true
    end)
    
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    
    RunService.RenderStepped:Connect(function()
        if dragging then
            local mousePos = UserInputService:GetMouseLocation()
            local relativePos = mousePos.X - slider.Track.AbsolutePosition.X
            local percentage = math.clamp(relativePos / slider.Track.AbsoluteSize.X, 0, 1)
            local value = math.floor(slider.Min + (percentage * (slider.Max - slider.Min)))
            
            slider.Value = value
            slider.Fill.Size = UDim2.new(percentage, 0, 1, 0)
            slider.ValueLabel.Text = tostring(value) .. slider.Suffix
            
            callback(value)
        end
    end)
end

ESPToggle.Button.MouseButton1Click:Connect(function()
    Config.ESP.Enabled = not Config.ESP.Enabled
    toggleButton(ESPToggle, Config.ESP.Enabled)
end)

TeamCheckToggle.Button.MouseButton1Click:Connect(function()
    Config.ESP.TeamCheck = not Config.ESP.TeamCheck
    toggleButton(TeamCheckToggle, Config.ESP.TeamCheck)
    
    for player, _ in pairs(ESPObjects) do
        if ESPObjects[player] then
            ESPObjects[player].Box.Color = getESPColor(player)
        end
    end
end)

ItemESPToggle.Button.MouseButton1Click:Connect(function()
    Config.ItemESP.Enabled = not Config.ItemESP.Enabled
    toggleButton(ItemESPToggle, Config.ItemESP.Enabled)
    
    if Config.ItemESP.Enabled then
        scanForItems()
    end
end)

AimToggle.Button.MouseButton1Click:Connect(function()
    Config.Aimbot.Enabled = not Config.Aimbot.Enabled
    toggleButton(AimToggle, Config.Aimbot.Enabled)
    if getgenv().FOVCircle then
        getgenv().FOVCircle.Visible = Config.Aimbot.Enabled and Config.Aimbot.ShowFOV
    end
end)

FOVToggle.Button.MouseButton1Click:Connect(function()
    Config.Aimbot.ShowFOV = not Config.Aimbot.ShowFOV
    toggleButton(FOVToggle, Config.Aimbot.ShowFOV)
    if getgenv().FOVCircle then
        getgenv().FOVCircle.Visible = Config.Aimbot.Enabled and Config.Aimbot.ShowFOV
    end
end)

AimTeamToggle.Button.MouseButton1Click:Connect(function()
    Config.Aimbot.TeamCheck = not Config.Aimbot.TeamCheck
    toggleButton(AimTeamToggle, Config.Aimbot.TeamCheck)
end)

WallToggle.Button.MouseButton1Click:Connect(function()
    Config.Aimbot.IgnoreWalls = not Config.Aimbot.IgnoreWalls
    toggleButton(WallToggle, Config.Aimbot.IgnoreWalls)
end)

InvisToggle.Button.MouseButton1Click:Connect(function()
    Config.Aimbot.IgnoreInvisible = not Config.Aimbot.IgnoreInvisible
    toggleButton(InvisToggle, Config.Aimbot.IgnoreInvisible)
end)

FlyToggle.Button.MouseButton1Click:Connect(function()
    Config.Aimbot.IgnoreFlying = not Config.Aimbot.IgnoreFlying
    toggleButton(FlyToggle, Config.Aimbot.IgnoreFlying)
end)

AntiDetectToggle.Button.MouseButton1Click:Connect(function()
    Config.Aimbot.AntiDetection = not Config.Aimbot.AntiDetection
    toggleButton(AntiDetectToggle, Config.Aimbot.AntiDetection)
end)

RecogToggle.Button.MouseButton1Click:Connect(function()
    Config.Recognition.Enabled = not Config.Recognition.Enabled
    toggleButton(RecogToggle, Config.Recognition.Enabled)
    
    if Config.Recognition.Enabled then
        updateRecognitionMarkers()
    else
        for name, _ in pairs(RecognitionMarkers) do
            removeRecognitionMarker(name)
        end
    end
end)

OptToggle.Button.MouseButton1Click:Connect(function()
    Config.Performance.OptimizationEnabled = not Config.Performance.OptimizationEnabled
    toggleButton(OptToggle, Config.Performance.OptimizationEnabled)
    applyQualityOptimization()
end)

AimModeSelector.ButtonF.MouseButton1Click:Connect(function()
    Config.Aimbot.Mode = "F"
    CustomKey = nil
    AimModeSelector.ButtonF.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
    AimModeSelector.ButtonCtrl.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    AimModeSelector.ButtonCustom.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    AimModeSelector.ButtonCustom.Text = "CUSTOM"
end)

AimModeSelector.ButtonCtrl.MouseButton1Click:Connect(function()
    Config.Aimbot.Mode = "CTRL"
    CustomKey = nil
    AimModeSelector.ButtonF.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    AimModeSelector.ButtonCtrl.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
    AimModeSelector.ButtonCustom.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    AimModeSelector.ButtonCustom.Text = "CUSTOM"
end)

AimModeSelector.ButtonCustom.MouseButton1Click:Connect(function()
    if WaitingForKey then return end
    
    WaitingForKey = true
    AimModeSelector.ButtonCustom.Text = "..."
    AimModeSelector.ButtonCustom.BackgroundColor3 = Color3.fromRGB(100, 100, 255)
    
    local connection
    connection = UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if input.UserInputType == Enum.UserInputType.Keyboard then
            local keyName = input.KeyCode.Name
            
            -- Ignorar teclas de sistema
            if keyName ~= "Unknown" and keyName ~= "Backspace" and keyName ~= "Return" then
                CustomKey = input.KeyCode
                Config.Aimbot.Mode = keyName
                
                AimModeSelector.ButtonCustom.Text = keyName
                AimModeSelector.ButtonF.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
                AimModeSelector.ButtonCtrl.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
                AimModeSelector.ButtonCustom.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
                
                WaitingForKey = false
                connection:Disconnect()
            end
        end
    end)
    
    -- Timeout de 10 segundos
    task.delay(10, function()
        if WaitingForKey then
            WaitingForKey = false
            AimModeSelector.ButtonCustom.Text = "CUSTOM"
            AimModeSelector.ButtonCustom.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
            if connection then
                connection:Disconnect()
            end
        end
    end)
end)

handleSlider(SmoothSlider, function(value)
    Config.Aimbot.Smoothness = value
end)

handleSlider(PredSlider, function(value)
    Config.Aimbot.Prediction = value
end)

handleSlider(FOVSlider, function(value)
    Config.Aimbot.FOV = value
    if getgenv().FOVCircle then
        getgenv().FOVCircle.Radius = value
    end
end)

handleSlider(ItemDistanceSlider, function(value)
    Config.ItemESP.MaxDistance = value
end)

handleSlider(QualitySlider, function(value)
    Config.Performance.QualityLevel = value
    if Config.Performance.OptimizationEnabled then
        applyQualityOptimization()
    end
end)

for targetName, button in pairs(TargetSelector.Buttons) do
    button.MouseButton1Click:Connect(function()
        Config.Aimbot.TargetPart = targetName
        
        for name, btn in pairs(TargetSelector.Buttons) do
            btn.BackgroundColor3 = name == targetName and Color3.fromRGB(255, 140, 0) or Color3.fromRGB(35, 35, 35)
        end
    end)
end

RecAddBtn.MouseButton1Click:Connect(function()
    local username = RecInput.Text
    if username == "" then return end
    
    local foundPlayer = nil
    for _, player in pairs(Players:GetPlayers()) do
        if player.Name:lower() == username:lower() or player.DisplayName:lower() == username:lower() then
            foundPlayer = player
            break
        end
    end
    
    if foundPlayer then
        Config.Recognition.Players[foundPlayer.Name] = true
        RecInput.Text = ""
        updateRecognitionStatus()
        
        if Config.Recognition.Enabled then
            createRecognitionMarker(foundPlayer)
        end
    end
end)

RecRemoveBtn.MouseButton1Click:Connect(function()
    local username = RecInput.Text
    if username == "" then return end
    
    local removed = false
    
    for storedName, _ in pairs(Config.Recognition.Players) do
        local player = Players:FindFirstChild(storedName)
        
        if player then
            if player.Name:lower() == username:lower() or player.DisplayName:lower() == username:lower() then
                Config.Recognition.Players[storedName] = nil
                removeRecognitionMarker(storedName)
                removed = true
                break
            end
        else
            if storedName:lower() == username:lower() then
                Config.Recognition.Players[storedName] = nil
                removeRecognitionMarker(storedName)
                removed = true
                break
            end
        end
    end
    
    if not removed then
        for _, player in pairs(Players:GetPlayers()) do
            if player.Name:lower() == username:lower() or player.DisplayName:lower() == username:lower() then
                if Config.Recognition.Players[player.Name] then
                    Config.Recognition.Players[player.Name] = nil
                    removeRecognitionMarker(player.Name)
                    removed = true
                    break
                end
            end
        end
    end
    
    if removed then
        RecInput.Text = ""
        updateRecognitionStatus()
    else
        RecStatus.Text = "ERRO: Jogador nao esta marcado!"
        RecStatus.TextColor3 = Color3.fromRGB(255, 100, 100)
        task.wait(2)
        updateRecognitionStatus()
    end
end)

local isMinimized = false

MinimizeBtn.MouseButton1Click:Connect(function()
    isMinimized = not isMinimized
    
    if isMinimized then
        MainFrame:TweenSize(UDim2.new(0, 400, 0, 50), "Out", "Quad", 0.3, true)
        Content.Visible = false
        MinimizeBtn.Text = "+"
    else
        MainFrame:TweenSize(UDim2.new(0, 400, 0, 600), "Out", "Quad", 0.3, true)
        Content.Visible = true
        MinimizeBtn.Text = "_"
    end
end)

CloseBtn.MouseButton1Click:Connect(function()
    MainFrame:TweenSize(UDim2.new(0, 0, 0, 0), "In", "Quad", 0.3, true)
    task.wait(0.3)
    MainFrame.Visible = false
end)

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if input.KeyCode == Enum.KeyCode.Insert then
        MainFrame.Visible = not MainFrame.Visible
    end
    
    if not Config.Aimbot.Enabled then return end
    
    if Config.Aimbot.Mode == "F" and input.KeyCode == Enum.KeyCode.F then
        Config.Aimbot.Active = true
    elseif Config.Aimbot.Mode == "CTRL" and (input.KeyCode == Enum.KeyCode.LeftControl or input.KeyCode == Enum.KeyCode.RightControl) then
        Config.Aimbot.Active = true
    elseif CustomKey and input.KeyCode == CustomKey then
        Config.Aimbot.Active = true
    end
end)

UserInputService.InputEnded:Connect(function(input)
    if Config.Aimbot.Mode == "F" and input.KeyCode == Enum.KeyCode.F then
        Config.Aimbot.Active = false
    elseif Config.Aimbot.Mode == "CTRL" and (input.KeyCode == Enum.KeyCode.LeftControl or input.KeyCode == Enum.KeyCode.RightControl) then
        Config.Aimbot.Active = false
    elseif CustomKey and input.KeyCode == CustomKey then
        Config.Aimbot.Active = false
    end
end)

-- ============================================
-- MAIN LOOP
-- ============================================

RunService.RenderStepped:Connect(function()
    if getgenv().FOVCircle then
        getgenv().FOVCircle.Position = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
        getgenv().FOVCircle.Visible = Config.Aimbot.Enabled and Config.Aimbot.ShowFOV
    end
    
    updateESP()
    updateItemESP()
    
    if Config.Aimbot.Active and Config.Aimbot.Enabled then
        local target = getClosestPlayer()
        if target then
            aimAtPlayer(target)
        end
    end
end)

task.spawn(function()
    while task.wait(2) do
        if Config.Recognition.Enabled then
            updateRecognitionMarkers()
        end
    end
end)

task.spawn(function()
    while task.wait(5) do
        if Config.ItemESP.Enabled then
            scanForItems()
        end
    end
end)

-- ============================================
-- SETUP COM LOADING
-- ============================================

task.spawn(function()
    LoadingStatus.Text = "Inicializando bypass..."
    ProgressBar:TweenSize(UDim2.new(0.2, 0, 1, 0), "Out", "Quad", 0.3, true)
    task.wait(0.5)
    
    LoadingStatus.Text = "Verificando acesso..."
    ProgressBar:TweenSize(UDim2.new(0.4, 0, 1, 0), "Out", "Quad", 0.3, true)
    task.wait(0.5)
    
    -- Verificar whitelist
    if not checkWhitelist() then
        LoadingStatus.Text = "Acesso negado..."
        ProgressBar:TweenSize(UDim2.new(1, 0, 1, 0), "Out", "Quad", 0.3, true)
        task.wait(0.5)
        
        -- Fade out do loading
        for i = 1, 10 do
            local transparency = i / 10
            LoadingFrame.BackgroundTransparency = transparency
            LoadingFrame.BorderSizePixel = 4 - math.floor(i / 2.5)
            LoadingShadow.BackgroundTransparency = 0.7 + (transparency * 0.3)
            LoadingGlow.BackgroundTransparency = 0.5 + (transparency * 0.5)
            LoadingLogo.ImageTransparency = transparency
            LoadingTitle.TextTransparency = transparency
            LoadingSubtitle.TextTransparency = transparency
            LoadingStatus.TextTransparency = transparency
            ProgressBarBG.BackgroundTransparency = transparency
            ProgressBar.BackgroundTransparency = transparency
            task.wait(0.05)
        end
        
        LoadingScreen:Destroy()
        BlockScreen.Enabled = true
        
        print("==========================================")
        print("EXPLOITS A - Acesso Negado")
        print("Seu nome: " .. LocalPlayer.Name)
        print("VocÃª nÃ£o estÃ¡ na whitelist!")
        print("Compre acesso em: discord.gg/SewVPQDGX2")
        print("==========================================")
        return
    end
    
    -- UsuÃ¡rio tem acesso - continuar carregamento normal
    LoadingStatus.Text = "Carregando jogadores..."
    ProgressBar:TweenSize(UDim2.new(0.6, 0, 1, 0), "Out", "Quad", 0.3, true)
    for _, player in pairs(Players:GetPlayers()) do
        setupPlayer(player)
        task.wait(0.05)
    end
    
    LoadingStatus.Text = "Configurando eventos..."
    ProgressBar:TweenSize(UDim2.new(0.8, 0, 1, 0), "Out", "Quad", 0.3, true)
    task.wait(0.3)
    
    Players.PlayerAdded:Connect(setupPlayer)
    Players.PlayerRemoving:Connect(cleanupPlayer)
    
    LoadingStatus.Text = "Finalizando..."
    ProgressBar:TweenSize(UDim2.new(1, 0, 1, 0), "Out", "Quad", 0.3, true)
    task.wait(0.3)
    
    updateRecognitionStatus()
    
    local FOVCircle = Drawing.new("Circle")
    FOVCircle.Thickness = 2
    FOVCircle.NumSides = 64
    FOVCircle.Radius = Config.Aimbot.FOV
    FOVCircle.Filled = false
    FOVCircle.Color = Color3.fromRGB(255, 140, 0)
    FOVCircle.Transparency = 0.6
    FOVCircle.Visible = false
    
    getgenv().FOVCircle = FOVCircle
    
    for i = 1, 10 do
        local transparency = i / 10
        LoadingFrame.BackgroundTransparency = transparency
        LoadingFrame.BorderSizePixel = 4 - math.floor(i / 2.5)
        LoadingShadow.BackgroundTransparency = 0.7 + (transparency * 0.3)
        LoadingGlow.BackgroundTransparency = 0.5 + (transparency * 0.5)
        LoadingLogo.ImageTransparency = transparency
        LoadingTitle.TextTransparency = transparency
        LoadingSubtitle.TextTransparency = transparency
        LoadingStatus.TextTransparency = transparency
        ProgressBarBG.BackgroundTransparency = transparency
        ProgressBar.BackgroundTransparency = transparency
        task.wait(0.05)
    end
    
    LoadingScreen:Destroy()
    ScreenGui.Enabled = true
    getgenv().FOVCircle.Visible = Config.Aimbot.Enabled and Config.Aimbot.ShowFOV
    
    print("==========================================")
    print("EXPLOITS A - Feito por AlvesOfficer")
    print("Carregado com sucesso!")
    print("Bem-vindo, " .. LocalPlayer.Name .. "!")
    print("Sistema de times: " .. (#Teams:GetTeams() > 0 and "ATIVO" or "INATIVO"))
    print("Anti-deteccao: ATIVO")
    print("Pressione INSERT para abrir o painel")
    print("==========================================")
end)
